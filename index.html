<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>GifTastic!</title>
</head>

<body>
    <h1>The Ronald Ulysses Swanson Gif Grabber</h1>

    <p>Now with 97% more Ron Swanson! Apologies to the good people at <a href="https://www.nbc.com/parks-and-recreation">NBC</a>.</p>

    <!-- Rendered Buttons get dumped here  -->
    <div id="buttons-view"></div>

    <!-- GIFs go here -->
    <div id="images">
    </div>

    <!-- JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">

        // Array of Ron-related topics
        var topics = ["America", "Bacon", "Breakfast", "Brunettes", "Drunk Ron Swanson", "Duke Silver", "Eggs", "Fishing", "Guns", "Li'l Sebastian", "Meat", "Ron Swanson", "Scotch", "Steak", "Woodworking"];

        // Function to create buttons for each topic from above
        function renderButtons() {

            // Looping through the array of topics
            for (var i = 0; i < topics.length; i++) {

                // Then dynamicaly generating buttons for each movie in the array with jQuery
                var a = $("<button>");
                // Adding a class of topic-btn to the button - NECESSARY?
                // a.addClass("topic-btn");
                // Adding a data-attribute
                a.attr("data-name", topics[i]);
                // Providing the initial button text
                a.text(topics[i]);
                // Adding the button to the buttons-view div
                $("#buttons-view").append(a);
            }
        };

        renderButtons();

        // displayGifs fn re-renders the HTML to display appropriate content
        function displayGifs() {

            var topics = $(this).attr("data-name");
            var queryURL = "https://api.giphy.com/v1/gifs/random?api_key=0vvAH89sd0za9eZ8qOpv23HRBi9Y7edf&tag=" + topics + "&limit=10&rating=pg-13";

        //     // AJAX call for the specific topic button clicked
        //     $.ajax({
        //         url: queryURL,
        //         method: "GET"
        //     }).then(function (response) {

        //         // Creating a div to hold the movie
        //         var movieDiv = $("<div class='movie'>");

        //         // Storing the rating data
        //         var rating = response.Rated;

        //         // Creating an element to have the rating displayed
        //         var pOne = $("<p>").text("Rating: " + rating);

        //         // Displaying the rating
        //         movieDiv.append(pOne);

        //         // Storing the release year
        //         var released = response.Released;

        //         // Creating an element to hold the release year
        //         var pTwo = $("<p>").text("Released: " + released);

        //         // Displaying the release year
        //         movieDiv.append(pTwo);

        //         // Storing the plot
        //         var plot = response.Plot;

        //         // Creating an element to hold the plot
        //         var pThree = $("<p>").text("Plot: " + plot);

        //         // Appending the plot
        //         movieDiv.append(pThree);

        //         // Retrieving the URL for the image
        //         var imgURL = response.Poster;

        //         // Creating an element to hold the image
        //         var image = $("<img>").attr("src", imgURL);

        //         // Appending the image
        //         movieDiv.append(image);

        //         // Putting the entire movie above the previous movies
        //         $("#movies-view").prepend(movieDiv);
        //     });

        // }
// <!-- 
//         // Event listener for our cat-button
//         $("#button").on("click", function () {

//             // Storing our giphy API URL for a random cat image
//             var queryURL = "https://api.giphy.com/v1/gifs/random?api_key=0vvAH89sd0za9eZ8qOpv23HRBi9Y7edf&tag=cats";

//             // Perfoming an AJAX GET request to our queryURL
//             $.ajax({
//                 url: queryURL,
//                 method: "GET"
//             })

//                 // After the data from the AJAX request comes back
//                 .then(function (response) {

//                     // Saving the image_original_url property
//                     var imageUrl = response.data.image_original_url;

//                     // Creating and storing an image tag
//                     var catImage = $("<img>");

//                     // Setting the catImage src attribute to imageUrl
//                     catImage.attr("src", imageUrl);
//                     catImage.attr("alt", "cat image");

//                     // Prepending the catImage to the images div
//                     $("#images").prepend(catImage);
//                 });
//         }); -->
    </script>
</body>

</html>